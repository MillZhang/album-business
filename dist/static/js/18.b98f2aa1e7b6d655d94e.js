webpackJsonp([18,43],{134:function(t,e,a){a(389);var i=a(30)(a(425),a(336),"data-v-57817068",null);t.exports=i.exports},176:function(t,e,a){"use strict";(function(t){var i=a(59),o=a.n(i),n=a(60),r=a.n(n),s=a(34),l=a(33),p=a(35),d=a.n(p);e.a=new(function(){function e(){o()(this,e)}return r()(e,[{key:"initPhotoList",value:function(){for(var t=[],e=l.a.layout().getter(),a=0,i=e.length;a<i;a++){var o=e[a],n={};n.list=[],n.size=o.area.length,n.main=o.layoutStyle.main,n.sub=o.layoutStyle.sub,n.temp=o.id,n.wait=0,n.bw=s.a.getConstant().EditorWidth,n.dpr=document.documentElement.getAttribute("data-dpr");for(var r=0;r<n.size;r++){var p={};p.width=0,p.height=0,p.key="",p.degree=0,p.location={position:{left:0,top:0},layoutIndex:r+1},n.list.push(p)}t.push(n)}l.a.photoList().setter(t)}},{key:"updatePhotoContainer",value:function(t){var e=l.a.photoList().getter();null==l.a.tempPhoto().getter()&&l.a.tempPhoto().setter(e[t]);var a=l.a.layout().getter()[t],i={};i.list=[],i.size=a.area.length,i.temp=a.id,i.bw=s.a.getConstant().EditorWidth,i.dpr=document.documentElement.getAttribute("data-dpr"),i.main=a.layoutStyle.main,i.sub=a.layoutStyle.sub,i.wait=0;for(var o=0;o<i.size;o++){var n={};n.width=0,n.height=0,n.key="",n.degree=0,n.location={position:{left:0,top:0},layoutIndex:o+1},i.list.push(n)}return e[t]=this.updatePhotoContent(t,i),l.a.photoList().setter(e),i}},{key:"updatePhotoContent",value:function(t,e){if(void 0!=e.list){for(var a=l.a.tempPhoto().getter(),i=a.list,o=0;o<i.length;o++){var n=i[o],r=e.list[o];""!=n.key&&void 0!=r&&(e.list[o]={width:n.width,height:n.height,key:n.key,degree:n.degree,location:{position:this.centeringImage(t,o,n.width,n.height),layoutIndex:o+1}},e.wait+=1)}return e}}},{key:"setCacheData",value:function(t){l.a.layout().setter(t.layout),this.initPhotoList()}},{key:"setEitorPage",value:function(t,e,a,i){if(null==l.a.layout().getter())return"";var o=l.a.layout().getter()[t],n=o.area[e],r=o.scale,p=(o.tw,o.th,n.aw/n.ah),g=o.tw*r/a,h={position:"absolute",width:n.aw*r/g+"px",height:n.ah*r/g+"px",left:n.ax*r/g+"px",top:n.ay*r/g+"px",overflow:"hidden",zIndex:100+t,backgroundRepeat:"no-repeat"};if(!i){var u=(l.a.photoList().getter()[t],l.a.photoList().getter()[t].list),c=a/s.a.getConstant().EditorWidth;if(void 0!=u){var v=u[e];if(""==v.key||0==v.width)h.background="url("+d.a+") center no-repeat",h.backgroundPosition="100% 100%",h.backgroundSize="100% 100%";else{var f=encodeURI(s.a.getConstant().DOMAIN+v.key+s.a.getConstant().THUMB600+"/rotate/"+v.degree),m=void 0,A=void 0;h.backgroundImage="url("+f+")",h.backgroundPosition=v.location.position.left*c.toFixed(2)+"px "+v.location.position.top*c.toFixed(2)+"px";p>=v.width/v.height?(m="100%",A="auto"):(m="auto",A="100%"),h.backgroundSize=m+" "+A}}}return h}},{key:"getTemplateImage",value:function(t){if(null==l.a.layout().getter())return"";var e=l.a.layout().getter()[t];return void 0==e?"":e.pngImg+s.a.getConstant().THUMB600}},{key:"getPhotoItemImageUrl",value:function(t,e){var a=l.a.photoList().getter()[t].list;if(void 0!=a){var i=a[e];return""==i.key||0==i.width?d.a:encodeURI(s.a.getConstant().DOMAIN+i.key+s.a.getConstant().THUMB600+"/rotate/"+i.degree)}}},{key:"setPhotoItemImageStyle",value:function(t,e){var a=l.a.layout().getter()[t],i=a.area[e],o=(a.tw,a.th,i.aw/i.ah),n=(a.tw,s.a.getConstant().EditorWidth,l.a.photoList().getter()[t].list);if(void 0!=n){var r=n[e],p=void 0,d=void 0,g={position:"absolute",left:r.location.position.left.toFixed(2)+"px",top:r.location.position.top.toFixed(2)+"px"};if(""==r.key||0==r.width)g.width="100%",g.height="100%";else{o>=r.width/r.height?(p="100%",d="auto"):(p="auto",d="100%"),g.width=p,g.height=d}return g}}},{key:"fillImageByGroup",value:function(e){for(var a=l.a.photoList().getter(),i=0,o=0;o<a.length;o++){var n=a[o],r=n.list;if(void 0!=r)for(;n.size>n.wait&&i!=e.length;){var s=t(e[i]).find("img");r[n.wait]=this.replaceImageBySequence(o,n.wait,s),n.wait+=1,i++}}l.a.photoList().setter(a)}},{key:"fillImageByPage",value:function(e,a){var i=l.a.photoList().getter(),o=0,n=i[a],r=n.list;if(void 0!=r)for(;n.size>n.wait&&o!=e.length;){var s=t(e[o]).find("img");r[n.wait]=this.replaceImageBySequence(Number(a),n.wait,s),n.wait+=1,o++}l.a.photoList().setter(i),l.a.tempPhoto().setter(l.a.photoList().getter()[a])}},{key:"fillImageByIndex",value:function(e,a,i){var o=t(e[0]).find("img"),n=l.a.photoList().getter();n[a].list[i]=this.replaceImageBySequence(Number(a),Number(i),o),l.a.photoList().setter(n),l.a.tempPhoto().setter(l.a.photoList().getter()[a])}},{key:"rotateImage",value:function(t,e){var a=l.a.photoList().getter(),i=a[t];if(void 0!=i.list){var o=i.list[e],n=o.width,r=o.height,s=o.degree;o.degree=(Number(s)+90)%360,o.width=r,o.height=n,o.location.position=this.centeringImage(t,e,o.width,o.height)}return l.a.photoList().setter(a),i}},{key:"replaceImageBySequence",value:function(t,e,a){var i=a.attr("data-width"),o=a.attr("data-height"),n=a.attr("data-degree");return{width:i,height:o,key:a.attr("data-key"),degree:n,location:{position:this.centeringImage(t,e,i,o),layoutIndex:Number(e)+1}}}},{key:"centeringImage",value:function(t,e,a,i){var o=l.a.layout().getter()[t],n=o.area[e],r={};if(void 0!=n){var p=n.aw/n.ah,d=o.tw/s.a.getConstant().EditorWidth;if(p>=a/i){var g=n.aw/d/a;r={maxTop:0,minTop:-(i*g-n.ah/d).toFixed(2),left:0,top:-((i*g-n.ah/d)/2).toFixed(2)}}else{var h=n.ah/d/i;r={maxLeft:0,minLeft:-(a*h-n.aw/d).toFixed(2),left:-((a*h-n.aw/d)/2).toFixed(2),top:0}}return r}}},{key:"getRestEmptyCount",value:function(){var t=l.a.photoList().getter(),e=0;if(null==t)return e;for(var a=0;a<t.length;a++){var i=t[a];void 0!=i.list&&(e+=i.size-i.wait)}return e}},{key:"getImageRadio",value:function(){var t=l.a.layout().getter()[0];return t.tw/t.th}},{key:"getRestEmptyCountByPage",value:function(t){var e=l.a.photoList().getter(),a=e[t];return a.size-a.wait}},{key:"touchStart",value:function(e){if(1===e.targetTouches.length){var a=t(".edit")[0],i=e.targetTouches[0],o=e.target;return{x:i.pageX-a.offsetLeft,y:i.pageY-a.offsetTop,ix:o.offsetLeft,iy:o.offsetTop}}}},{key:"touchMove",value:function(e,a,i){if(1==e.targetTouches.length){var o=e.targetTouches[0],n=e.target,r=t(".edit")[0],s=o.pageX-r.offsetLeft,l=o.pageY-r.offsetLeft,p=s-a.x,d=l-a.y,g=t(n).position().left,h=t(n).position().top;"auto"==n.style.height?h>=i.minTop-10&&h<=i.maxTop+10&&t(n).css({top:a.iy+d}):"auto"==n.style.width&&g>=i.minLeft-10&&g<=i.maxLeft+10&&t(n).css({left:a.ix+p})}}},{key:"touchEnd",value:function(e,a,i,o,n){var r=e.target;return"auto"==r.style.height?o.maxTop>=o.minTop?t(r).position().top>=o.maxTop?t(r).css({top:o.maxTop}):t(r).position().top<=o.minTop&&t(r).css({top:o.minTop}):n():"auto"==r.style.width&&(o.maxLeft>=o.minLeft?t(r).position().left>=o.maxLeft?t(r).css({left:o.maxLeft}):t(r).position().left<=o.minLeft&&t(r).css({left:o.minLeft}):n()),this.cachePhotoAfterMoving(t(r),a,i),!0}},{key:"cachePhotoAfterMoving",value:function(t,e,a){var i=l.a.photoList().getter(),o=i[e].list,n=t.position();o[a].location.position.left=n.left,o[a].location.position.top=n.top,l.a.photoList().setter(i)}},{key:"dealWidthDifferentDevice",value:function(t){if(null!=t){for(var e=0,a=t.length;e<a;e++){var i=t[e];if(void 0!=i.list){var o=i.bw,n=s.a.getConstant().EditorWidth/o;i.bw=s.a.getConstant().EditorWidth;for(var r=0;r<i.list.length;r++){var p=i.list[r];for(var d in p.location.position){var g=p.location.position[d];p.location.position[d]=Number((g*n).toFixed(2))}}}}l.a.photoList().setter(t)}}}]),e}())}).call(e,a(15))},185:function(t,e,a){t.exports=a.p+"static/img/bg-4.fb97f10.jpg"},231:function(t,e,a){e=t.exports=a(118)(),e.push([t.i,".preivew[data-v-57817068]{width:100%;height:100%;background:url("+a(185)+") 50% no-repeat;background-size:cover}.preivew .block[data-v-57817068]{width:80%;margin:0 auto;position:absolute;top:8%;left:10%}.preivew .block img[data-v-57817068]{width:100%}.preivew .block .edit .pageDiv[data-v-57817068]{position:relative;width:100%;height:100%}.preivew .block .edit .pageDiv .templateDiv[data-v-57817068]{width:100%;height:100%;position:relative;z-index:1000}.preivew .block .edit[data-v-57817068]{width:100%;display:block;position:relative;z-index:999}.flipbook[data-v-57817068]{transform-style:preserve-3d;transform-origin:0 50%;transform:rotateY(0deg)}.turnLeftAnimation[data-v-57817068]{animation-name:turnLeft}.turnRightAnimation[data-v-57817068]{animation-name:trunRight}@keyframes turnLeft{0%{transform:rotateY(0deg)}50%{transform:rotateY(-160deg)}to{transform:rotateY(-180deg);opacity:0}}@keyframes trunRight{0%{transform:rotateY(-180deg);opacity:.5}to{transform:rotateY(0deg);opacity:1}}.p-button[data-v-57817068]{display:-ms-flexbox;display:flex;display:-webkit-flex;background:#fff}.p-button>a[data-v-57817068]{text-align:center;line-height:1.2rem;color:#fc6767;-ms-flex:1;flex:1;-webkit-flex:1}.p-button>a[data-v-57817068]:first-child{border-right:1px solid #ccc}.p-tip-container[data-v-57817068]{position:absolute;width:100%;text-align:center}.p-tip-container .p-state[data-v-57817068]{width:90%;margin:.4rem auto 0;color:#644020;text-align:left}.click-tip[data-v-57817068]{position:absolute;width:.8rem;top:-1rem;right:10%;z-index:2000}.p-tips[data-v-57817068]{color:#644020}.click-tip img[data-v-57817068]{width:100%}",""])},256:function(t,e){t.exports="data:image/gif;base64,R0lGODlhbACZALMPAB4YFaNDL8qsn/rTw//by//j0mxaU7WZjuXDtUI0L5R9c/HQwf9pSgAAAP/VxQAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4RDMzODU5NDlBRUVFNjExQUE0N0VDRjEyNTdCQTM2QSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowQkE2QUI2RDBFMjgxMUU3OTM5NDg0MDZEMzE3NDk0RCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowQkE2QUI2QzBFMjgxMUU3OTM5NDg0MDZEMzE3NDk0RCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjgwNUFDOUJEMjQwRUU3MTFCMjQ4RTQ3N0NGNjQ1NTkwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjhEMzM4NTk0OUFFRUU2MTFBQTQ3RUNGMTI1N0JBMzZBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8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"},336:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"preivew"},[i("section",{staticClass:"bar-footer"},[i("div",{staticClass:"p-button"},[i("router-link",{staticClass:"back",attrs:{to:{path:"global",query:{appid:t.appId}}}},[t._v("返回编辑")]),t._v(" "),i("a",{staticClass:"save",on:{click:t.saveAlbumEvent}},[t._v("完成")])],1)]),t._v(" "),i("section",{staticClass:"bar-content"},[t._l(t.photoList,function(e,a){return[i("div",{staticClass:"block animated flipbook",class:{last:a==t.photoList.length-1,first:0==a},style:{"z-index":t.getImageIndex(a)},attrs:{"data-index":a},on:{touchstart:t.turnPage}},[i("div",{staticClass:"edit",style:{height:t.editorHeight+"px"},attrs:{href:"javascript:;","data-page":a}},[i("div",{staticClass:"pageDiv"},[i("div",{staticClass:"templateDiv",style:t.templateStyle(a)}),t._v(" "),t._l(e.list,function(e,o){return[i("div",{staticClass:"photoDiv",style:t.photoItemStyle(a,o)})]})],2)])])]}),t._v(" "),i("div",{staticClass:"p-tip-container",style:{top:t.tipHeight+"px"}},[i("p",{staticClass:"p-tips"},[t._v("点击左右翻动预览")]),t._v(" "),t._m(0),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showTip,expression:"showTip"}],staticClass:"click-tip"},[i("img",{attrs:{src:a(256),alt:""}})])])],2)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-state"},[a("p",{staticClass:"f12"},[t._v("说明:")]),t._v(" "),a("p",{staticClass:"f12"},[t._v("1.请左右点击相册进行翻页预览,确认上传的每一张照片是在相框最合适的位置;")]),t._v(" "),a("p",{staticClass:"f12"},[t._v('2.如果照片在相框的位置不满意,请点击"返回"到【全局预览】,然后点击照片到【编辑】调整照片;')]),t._v(" "),a("p",{staticClass:"f12"},[t._v('3.点击"完成"按钮以后,相册'),a("span",{staticClass:"f12",staticStyle:{color:"#ff4545"}},[t._v("将无法修改")])])])}]}},389:function(t,e,a){var i=a(231);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(119)("2894d35e",i,!0)},425:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=a(62),o=a.n(i),n=a(33),r=a(176),s=a(57),l=a(31);a.n(l);e.default={name:"album-preview",data:function(){return{editorWidth:.8*window.innerWidth,editorHeight:.8*window.innerWidth/r.a.getImageRadio(),photoList:n.a.photoList().getter(),tipHeight:"",appId:this.$router.currentRoute.query.appid,backCoverImg:"",coverImg:"",showTip:!0}},created:function(){this.fetchAlbumCoverImage(),this.tipHeight=.08*window.innerHeight+this.editorHeight+10},methods:{templateStyle:function(t){return"background:url("+r.a.getTemplateImage(t)+") center no-repeat;background-size:cover"},photoItemStyle:function(t,e){return r.a.setEitorPage(t,e,this.editorWidth,!1)},fetchAlbumCoverImage:function(){var t=this;s.a.getCoverImageByTempId({tempId:n.a.template().getter()},function(e){e.success&&(t.coverImg=e.data.coverImageUrl,t.backCoverImg=e.data.backCoverImageUrl)})},saveAlbumEvent:function(t){t.preventDefault();var e=this,a=n.a.photoList().getter();s.a.saveAlbumJson({albumJson:o()(a),layoutJson:o()(n.a.layout().getter()),tempId:n.a.template().getter(),ticket:App.config.ticket},function(t){t.success&&(t.data.publish?e.$router.push(t.data.backUrl+"?temporaryId="+t.data.temporaryId+"&appid="+e.appId):e.saveAlbum(t.data.albumJsonId,t.data.temporaryId))})},saveAlbum:function(t,e){var i=n.a.photoList().getter(),o=r.a.getRestEmptyCount(),p=this;0==o?a.i(l.MessageBox)({title:"友情提示",message:"相簿创建后就不可以修改哦<br>是否确认创建相簿?",showCancelButton:!0}).then(function(a){var o=n.a.layout().getter()[0],r=o.tw/p.utils.getConstant().EditorWidth;"confirm"==a&&s.a.saveAlbum(i,t,r.toFixed(5),function(t){t.success&&p.$router.push(t.backUrl+"?temporaryId="+e+"&appid="+p.appId)})}):a.i(l.Toast)("您尚未完成编辑,请返回继续编辑")},turnPage:function(e){if(e.preventDefault(),this.showTip=!1,1===e.targetTouches.length){var a=e.targetTouches[0],i=t(e.target).parents(".block"),o=i.attr("data-index");a.clientX<window.innerWidth/2?1==o?i.parent().find(".last").removeClass("turnLeftAnimation").addClass("turnRightAnimation"):2==o?i.parent().find(".first").removeClass("turnLeftAnimation").addClass("turnRightAnimation"):i.prev().removeClass("turnLeftAnimation").addClass("turnRightAnimation"):o<=this.photoList.length-1&&1!=o&&i.removeClass("turnRightAnimation").addClass("turnLeftAnimation")}},getImageIndex:function(t){return 0==t?1e3:1==t?1e3-this.photoList.length:1e3-t}},computed:{}}}).call(e,a(15))}});