webpackJsonp([22,43],{132:function(t,e,a){a(365);var i=a(30)(a(423),a(311),"data-v-0b3092c8",null);t.exports=i.exports},176:function(t,e,a){"use strict";(function(t){var i=a(59),o=a.n(i),n=a(60),s=a.n(n),r=a(34),g=a(33),l=a(35),h=a.n(l);e.a=new(function(){function e(){o()(this,e)}return s()(e,[{key:"initPhotoList",value:function(){for(var t=[],e=g.a.layout().getter(),a=0,i=e.length;a<i;a++){var o=e[a],n={};n.list=[],n.size=o.area.length,n.main=o.layoutStyle.main,n.sub=o.layoutStyle.sub,n.temp=o.id,n.wait=0,n.bw=r.a.getConstant().EditorWidth,n.dpr=document.documentElement.getAttribute("data-dpr");for(var s=0;s<n.size;s++){var l={};l.width=0,l.height=0,l.key="",l.degree=0,l.location={position:{left:0,top:0},layoutIndex:s+1},n.list.push(l)}t.push(n)}g.a.photoList().setter(t)}},{key:"updatePhotoContainer",value:function(t){var e=g.a.photoList().getter();null==g.a.tempPhoto().getter()&&g.a.tempPhoto().setter(e[t]);var a=g.a.layout().getter()[t],i={};i.list=[],i.size=a.area.length,i.temp=a.id,i.bw=r.a.getConstant().EditorWidth,i.dpr=document.documentElement.getAttribute("data-dpr"),i.main=a.layoutStyle.main,i.sub=a.layoutStyle.sub,i.wait=0;for(var o=0;o<i.size;o++){var n={};n.width=0,n.height=0,n.key="",n.degree=0,n.location={position:{left:0,top:0},layoutIndex:o+1},i.list.push(n)}return e[t]=this.updatePhotoContent(t,i),g.a.photoList().setter(e),i}},{key:"updatePhotoContent",value:function(t,e){if(void 0!=e.list){for(var a=g.a.tempPhoto().getter(),i=a.list,o=0;o<i.length;o++){var n=i[o],s=e.list[o];""!=n.key&&void 0!=s&&(e.list[o]={width:n.width,height:n.height,key:n.key,degree:n.degree,location:{position:this.centeringImage(t,o,n.width,n.height),layoutIndex:o+1}},e.wait+=1)}return e}}},{key:"setCacheData",value:function(t){g.a.layout().setter(t.layout),this.initPhotoList()}},{key:"setEitorPage",value:function(t,e,a,i){if(null==g.a.layout().getter())return"";var o=g.a.layout().getter()[t],n=o.area[e],s=o.scale,l=(o.tw,o.th,n.aw/n.ah),c=o.tw*s/a,p={position:"absolute",width:n.aw*s/c+"px",height:n.ah*s/c+"px",left:n.ax*s/c+"px",top:n.ay*s/c+"px",overflow:"hidden",zIndex:100+t,backgroundRepeat:"no-repeat"};if(!i){var u=(g.a.photoList().getter()[t],g.a.photoList().getter()[t].list),d=a/r.a.getConstant().EditorWidth;if(void 0!=u){var v=u[e];if(""==v.key||0==v.width)p.background="url("+h.a+") center no-repeat",p.backgroundPosition="100% 100%",p.backgroundSize="100% 100%";else{var m=encodeURI(r.a.getConstant().DOMAIN+v.key+r.a.getConstant().THUMB600+"/rotate/"+v.degree),f=void 0,y=void 0;p.backgroundImage="url("+m+")",p.backgroundPosition=v.location.position.left*d.toFixed(2)+"px "+v.location.position.top*d.toFixed(2)+"px";l>=v.width/v.height?(f="100%",y="auto"):(f="auto",y="100%"),p.backgroundSize=f+" "+y}}}return p}},{key:"getTemplateImage",value:function(t){if(null==g.a.layout().getter())return"";var e=g.a.layout().getter()[t];return void 0==e?"":e.pngImg+r.a.getConstant().THUMB600}},{key:"getPhotoItemImageUrl",value:function(t,e){var a=g.a.photoList().getter()[t].list;if(void 0!=a){var i=a[e];return""==i.key||0==i.width?h.a:encodeURI(r.a.getConstant().DOMAIN+i.key+r.a.getConstant().THUMB600+"/rotate/"+i.degree)}}},{key:"setPhotoItemImageStyle",value:function(t,e){var a=g.a.layout().getter()[t],i=a.area[e],o=(a.tw,a.th,i.aw/i.ah),n=(a.tw,r.a.getConstant().EditorWidth,g.a.photoList().getter()[t].list);if(void 0!=n){var s=n[e],l=void 0,h=void 0,c={position:"absolute",left:s.location.position.left.toFixed(2)+"px",top:s.location.position.top.toFixed(2)+"px"};if(""==s.key||0==s.width)c.width="100%",c.height="100%";else{o>=s.width/s.height?(l="100%",h="auto"):(l="auto",h="100%"),c.width=l,c.height=h}return c}}},{key:"fillImageByGroup",value:function(e){for(var a=g.a.photoList().getter(),i=0,o=0;o<a.length;o++){var n=a[o],s=n.list;if(void 0!=s)for(;n.size>n.wait&&i!=e.length;){var r=t(e[i]).find("img");s[n.wait]=this.replaceImageBySequence(o,n.wait,r),n.wait+=1,i++}}g.a.photoList().setter(a)}},{key:"fillImageByPage",value:function(e,a){var i=g.a.photoList().getter(),o=0,n=i[a],s=n.list;if(void 0!=s)for(;n.size>n.wait&&o!=e.length;){var r=t(e[o]).find("img");s[n.wait]=this.replaceImageBySequence(Number(a),n.wait,r),n.wait+=1,o++}g.a.photoList().setter(i),g.a.tempPhoto().setter(g.a.photoList().getter()[a])}},{key:"fillImageByIndex",value:function(e,a,i){var o=t(e[0]).find("img"),n=g.a.photoList().getter();n[a].list[i]=this.replaceImageBySequence(Number(a),Number(i),o),g.a.photoList().setter(n),g.a.tempPhoto().setter(g.a.photoList().getter()[a])}},{key:"rotateImage",value:function(t,e){var a=g.a.photoList().getter(),i=a[t];if(void 0!=i.list){var o=i.list[e],n=o.width,s=o.height,r=o.degree;o.degree=(Number(r)+90)%360,o.width=s,o.height=n,o.location.position=this.centeringImage(t,e,o.width,o.height)}return g.a.photoList().setter(a),i}},{key:"replaceImageBySequence",value:function(t,e,a){var i=a.attr("data-width"),o=a.attr("data-height"),n=a.attr("data-degree");return{width:i,height:o,key:a.attr("data-key"),degree:n,location:{position:this.centeringImage(t,e,i,o),layoutIndex:Number(e)+1}}}},{key:"centeringImage",value:function(t,e,a,i){var o=g.a.layout().getter()[t],n=o.area[e],s={};if(void 0!=n){var l=n.aw/n.ah,h=o.tw/r.a.getConstant().EditorWidth;if(l>=a/i){var c=n.aw/h/a;s={maxTop:0,minTop:-(i*c-n.ah/h).toFixed(2),left:0,top:-((i*c-n.ah/h)/2).toFixed(2)}}else{var p=n.ah/h/i;s={maxLeft:0,minLeft:-(a*p-n.aw/h).toFixed(2),left:-((a*p-n.aw/h)/2).toFixed(2),top:0}}return s}}},{key:"getRestEmptyCount",value:function(){var t=g.a.photoList().getter(),e=0;if(null==t)return e;for(var a=0;a<t.length;a++){var i=t[a];void 0!=i.list&&(e+=i.size-i.wait)}return e}},{key:"getImageRadio",value:function(){var t=g.a.layout().getter()[0];return t.tw/t.th}},{key:"getRestEmptyCountByPage",value:function(t){var e=g.a.photoList().getter(),a=e[t];return a.size-a.wait}},{key:"touchStart",value:function(e){if(1===e.targetTouches.length){var a=t(".edit")[0],i=e.targetTouches[0],o=e.target;return{x:i.pageX-a.offsetLeft,y:i.pageY-a.offsetTop,ix:o.offsetLeft,iy:o.offsetTop}}}},{key:"touchMove",value:function(e,a,i){if(1==e.targetTouches.length){var o=e.targetTouches[0],n=e.target,s=t(".edit")[0],r=o.pageX-s.offsetLeft,g=o.pageY-s.offsetLeft,l=r-a.x,h=g-a.y,c=t(n).position().left,p=t(n).position().top;"auto"==n.style.height?p>=i.minTop-10&&p<=i.maxTop+10&&t(n).css({top:a.iy+h}):"auto"==n.style.width&&c>=i.minLeft-10&&c<=i.maxLeft+10&&t(n).css({left:a.ix+l})}}},{key:"touchEnd",value:function(e,a,i,o,n){var s=e.target;return"auto"==s.style.height?o.maxTop>=o.minTop?t(s).position().top>=o.maxTop?t(s).css({top:o.maxTop}):t(s).position().top<=o.minTop&&t(s).css({top:o.minTop}):n():"auto"==s.style.width&&(o.maxLeft>=o.minLeft?t(s).position().left>=o.maxLeft?t(s).css({left:o.maxLeft}):t(s).position().left<=o.minLeft&&t(s).css({left:o.minLeft}):n()),this.cachePhotoAfterMoving(t(s),a,i),!0}},{key:"cachePhotoAfterMoving",value:function(t,e,a){var i=g.a.photoList().getter(),o=i[e].list,n=t.position();o[a].location.position.left=n.left,o[a].location.position.top=n.top,g.a.photoList().setter(i)}},{key:"dealWidthDifferentDevice",value:function(t){if(null!=t){for(var e=0,a=t.length;e<a;e++){var i=t[e];if(void 0!=i.list){var o=i.bw,n=r.a.getConstant().EditorWidth/o;i.bw=r.a.getConstant().EditorWidth;for(var s=0;s<i.list.length;s++){var l=i.list[s];for(var h in l.location.position){var c=l.location.position[h];l.location.position[h]=Number((c*n).toFixed(2))}}}}g.a.photoList().setter(t)}}}]),e}())}).call(e,a(15))},200:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEJENTA1NTA1QURGMTFFNjlBOERDOTk3RTA1NjQ4NkYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEJENTA1NEY1QURGMTFFNjlBOERDOTk3RTA1NjQ4NkYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMDY5M0Q2QTVFQjIxMUUyQTA5QTlDMzE5QTRBQTgzQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMDY5M0Q2QjVFQjIxMUUyQTA5QTlDMzE5QTRBQTgzQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Puz64YUAAA9MSURBVHja7J1rjF1V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"},207:function(t,e,a){e=t.exports=a(118)(),e.push([t.i,".designer[data-v-0b3092c8]{width:100%;overflow-y:auto;background:#efefef;margin-top:.2rem;height:15rem;-webkit-overflow-scrolling:touch}.designer .tip[data-v-0b3092c8]{text-align:center;position:absolute;width:100%;top:1%;display:none}.designer .block[data-v-0b3092c8]{width:80%;margin:0 auto;position:relative;top:8%;box-shadow:0 0 5px #ccc}.designer .block .edit[data-v-0b3092c8]{width:100%;display:block;position:relative;z-index:999}.designer .block .edit .pageDiv[data-v-0b3092c8]{position:relative;width:100%;height:100%}.designer .block .edit .pageDiv .templateDiv[data-v-0b3092c8]{width:100%;height:100%}.designer .block .prev[data-v-0b3092c8]{background:url("+a(200)+") 50% no-repeat;position:absolute;top:42%;left:-.5rem;background-position:0 100%;background-size:200%;width:1.6rem;height:1.6rem;display:block;z-index:1000}.designer .block .next[data-v-0b3092c8]{background:url("+a(200)+") 50% no-repeat;position:absolute;top:42%;right:-.5rem;background-position:104% 100%;background-size:200%;width:1.6rem;height:1.6rem;display:block;z-index:1000}.templateDiv[data-v-0b3092c8]{background-size:cover!important}.pagination[data-v-0b3092c8]{position:relative;top:10%;text-align:right;width:90%;margin:0 auto;padding-right:5%}.button-group[data-v-0b3092c8]{display:-ms-flexbox;display:flex;display:-webkit-flex;position:absolute;width:100%;top:1%;z-index:1001}.button-group>a[data-v-0b3092c8]{display:block;width:40%;background:#fff;color:#bc223d;border:1px solid #ccc;border-radius:10px;height:.965rem;line-height:.965rem;text-align:center;margin:0 5%}.t-layout[data-v-0b3092c8]{width:100%;height:2.5rem;z-index:1002;display:-ms-flexbox;display:flex;display:-webkit-flex;position:absolute;bottom:0;left:0;right:0;overflow-y:hidden;overflow-x:auto;background:#e4e4e4}.t-layout img[data-v-0b3092c8]{width:2rem;height:2rem;margin:.25rem;-ms-flex-negative:0;flex-shrink:0;-webkit-flex-shrink:0}.t-layout img.selected[data-v-0b3092c8]{border:2px solid #bc223d}.photoDiv[data-v-0b3092c8]{-webkit-overflow-scrolling:touch}.p-state[data-v-0b3092c8]{color:#a6a6a6;width:90%;position:relative;top:12%;margin:0 auto;text-align:left}",""])},311:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"designer"},[a("p",{staticClass:"tip"},[t._v("往下一步自动保存")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showButton,expression:"showButton"}],staticClass:"button-group"},[a("a",{attrs:{href:"javascript:;"},on:{click:t.changePhotoDegree}},[t._v("向右旋转")]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:t.changePhotoClickEvent}},[t._v("更换图片")])]),t._v(" "),a("div",{staticClass:"block"},[a("div",{staticClass:"edit",style:{height:t.editorHeight+"px"},attrs:{href:"javascript:;"}},[a("div",{staticClass:"pageDiv"},[a("div",{staticClass:"templateDiv",style:t.templateStyle()}),t._v(" "),t._l(t.desinPhoto.list,function(e,i){return[a("div",{staticClass:"photoDiv",style:t.photoItemStyle(i)},[a("img",{staticClass:"itemImage",class:{insertBtn:""==e.key,changeBtn:""!=e.key},style:t.photoItemImageStyle(i),attrs:{"data-index":i,src:t.photoItemImageSrc(i),alt:""},on:{touchstart:t.touchStartEvent,touchmove:t.touchMoveEvent,touchend:t.touchEndEvent}})])]})],2)]),t._v(" "),a("a",{staticClass:"prev",class:{hidden:t.page<=0},attrs:{href:"javascript:;"},on:{click:t.goPreviousEvent}}),t._v(" "),a("a",{staticClass:"next",class:{hidden:t.page>=t.totalPage-1},attrs:{href:"javascript:;"},on:{click:t.goNextEvent}})]),t._v(" "),a("p",{staticClass:"pagination"},[0==t.page?[t._v("封面/"+t._s(t.totalPage-4))]:t._e(),t._v(" "),1==t.page?[t._v("封底/"+t._s(t.totalPage-4))]:t._e(),t._v(" "),2==t.page?[t._v("扉页/"+t._s(t.totalPage-4))]:t._e(),t._v(" "),t.page==t.totalPage-1?[t._v("扉底/"+t._s(t.totalPage-4))]:t._e(),t._v(" "),t.page>2&&t.page<t.totalPage-1?[t._v(t._s(t.page-2)+"/"+t._s(t.totalPage-4))]:t._e()],2),t._v(" "),t._m(0)]),t._v(" "),0==t.page?[a("div",{directives:[{name:"show",rawName:"v-show",value:t.coverTemp.length>0,expression:"coverTemp.length>0"}],staticClass:"t-layout"},[t._l(t.coverTemp,function(e,i){return[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.pngImg+"?imageMogr2/thumbnail/600x600",expression:"item.pngImg+'?imageMogr2/thumbnail/600x600'"}],staticClass:"templateImage",on:{click:function(e){t.changeTemplateLayout(e,i)}}})]})],2)]:t._e(),t._v(" "),1==t.page?[a("div",{directives:[{name:"show",rawName:"v-show",value:t.backCoverTemp.length>0,expression:"backCoverTemp.length>0"}],staticClass:"t-layout"},[t._l(t.backCoverTemp,function(e,i){return[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.pngImg+"?imageMogr2/thumbnail/600x600",expression:"item.pngImg+'?imageMogr2/thumbnail/600x600'"}],staticClass:"templateImage",on:{click:function(e){t.changeTemplateLayout(e,i)}}})]})],2)]:t._e(),t._v(" "),2==t.page?[a("div",{directives:[{name:"show",rawName:"v-show",value:t.fyTemp.length>0,expression:"fyTemp.length>0"}],staticClass:"t-layout"},[t._l(t.fyTemp,function(e,i){return[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.pngImg+"?imageMogr2/thumbnail/600x600",expression:"item.pngImg+'?imageMogr2/thumbnail/600x600'"}],staticClass:"templateImage",on:{click:function(e){t.changeTemplateLayout(e,i)}}})]})],2)]:t._e(),t._v(" "),t.page>2&&t.page<t.totalPage-1?[a("div",{directives:[{name:"show",rawName:"v-show",value:t.contentTemp.length>0,expression:"contentTemp.length>0"}],staticClass:"t-layout"},[t._l(t.contentTemp,function(e,i){return[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.pngImg+"?imageMogr2/thumbnail/600x600",expression:"item.pngImg+'?imageMogr2/thumbnail/600x600'"}],staticClass:"templateImage",on:{click:function(e){t.changeTemplateLayout(e,i)}}})]})],2)]:t._e(),t._v(" "),t.page==t.totalPage-1?[a("div",{directives:[{name:"show",rawName:"v-show",value:t.fdTemp.length>0,expression:"fdTemp.length>0"}],staticClass:"t-layout"},[t._l(t.fdTemp,function(e,i){return[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.pngImg+"?imageMogr2/thumbnail/600x600",expression:"item.pngImg+'?imageMogr2/thumbnail/600x600'"}],staticClass:"templateImage",on:{click:function(e){t.changeTemplateLayout(e,i)}}})]})],2)]:t._e()],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-state"},[a("p",{staticClass:"f12"},[t._v("说明:")]),t._v(" "),a("p",{staticClass:"f12"},[t._v("1.点击上传照片可以旋转或者更换图片")]),t._v(" "),a("p",{staticClass:"f12"},[t._v("2.上传的照片请"),a("span",{staticStyle:{color:"#ff4545"}},[t._v("上下左右移动")]),t._v("调整好照片的位置,确认人脸在相框最合适的位置,不在相框里面的照片将被裁切;")]),t._v(" "),a("p",{staticClass:"f12"},[t._v("3.点击相框左右两边箭头,可以进行翻页编辑。")])])}]}},365:function(t,e,a){var i=a(207);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(119)("785e706f",i,!0)},423:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=a(33),o=a(176),n=a(57),s=a(31);a.n(s);e.default={name:"designer",data:function(){return{editorWidth:this.utils.getConstant().EditorWidth,editorHeight:600*this.utils.getConstant().EditorWidth/500,page:0,totalPage:i.a.photoList().getter().length,desinPhoto:{},selectedImageIndex:0,showButton:!1,contentTemp:[],coverTemp:[],backCoverTemp:[],fyTemp:[],fdTemp:[]}},created:function(){if(this.page=Number(this.$router.currentRoute.query.page),this.desinPhoto=i.a.photoList().getter()[this.page],this.editorHeight=this.editorWidth/o.a.getImageRadio(),null!=i.a.templateLayout().getter()){var t=i.a.templateLayout().getter();this.contentTemp=t.contentTemp,this.coverTemp=t.coverTemp,this.backCoverTemp=t.backCoverTemp,this.fyTemp=t.fyTemp,this.fdTemp=t.fdTemp}else this.fetchTemplateLayoutList()},methods:{fetchTemplateLayoutList:function(){var t=this;n.a.getTemplateLayoutList({tempId:i.a.template().getter(),ticket:this.config.ticket},function(e){e.success&&(t.contentTemp=e.data.contentTemp,t.coverTemp=e.data.coverTemp,t.backCoverTemp=e.data.backCoverTemp,t.fyTemp=e.data.fyTemp,t.fdTemp=e.data.fdTemp,i.a.templateLayout().setter(e.data))})},templateStyle:function(){return"background:url("+o.a.getTemplateImage(this.page)+") center no-repeat;"},photoItemStyle:function(t){return o.a.setEitorPage(this.page,t,this.editorWidth,!0)},photoItemImageSrc:function(t){return o.a.getPhotoItemImageUrl(this.page,t)},photoItemImageStyle:function(t){return o.a.setPhotoItemImageStyle(this.page,t)},goPreviousEvent:function(t){t.preventDefault(),i.a.tempPhoto().remove(),this.$router.replace("/editor/design?page="+(this.page-=1))},goNextEvent:function(t){t.preventDefault(),i.a.tempPhoto().remove(),this.$router.replace("/editor/design?page="+(this.page+=1))},changePhotoDegree:function(t){t.preventDefault(),this.desinPhoto=o.a.rotateImage(this.page,this.selectedImageIndex)},changePhotoClickEvent:function(t){t.preventDefault(),this.$router.replace("/editor/upload?mode=change&page="+this.page+"&index="+this.selectedImageIndex)},changeTemplateLayout:function(e,a){e.preventDefault();var n=t(e.target);t(".templateImage").removeClass("selected"),n.addClass("selected");var s=i.a.layout().getter(),r=i.a.templateLayout().getter();0==this.page?s[this.page]=r.coverTemp[a]:1==this.page?s[this.page]=r.backCoverTemp[a]:2==this.page?s[this.page]=r.fyTemp[a]:this.page==this.totalPage-1?s[this.page]=r.fdTemp[a]:s[this.page]=r.contentTemp[a],i.a.layout().setter(s),this.desinPhoto=o.a.updatePhotoContainer(this.page)},touchStartEvent:function(e){e.preventDefault();var a=t(e.target);if(a.hasClass("insertBtn"))return void this.$router.replace("/editor/upload?mode=single&page="+this.page);this.selectedImageIndex=a.attr("data-index"),this.showButton=!0;var n=i.a.photoList().getter()[this.page].list;void 0!=n&&(this.position=n[this.selectedImageIndex].location.position,this.startPosition=o.a.touchStart(e))},touchMoveEvent:function(t){t.preventDefault(),o.a.touchMove(t,this.startPosition,this.position)},touchEndEvent:function(t){return t.preventDefault(),o.a.touchEnd(t,this.page,this.selectedImageIndex,this.position,function(){a.i(s.Toast)("图片未充满容器,建议更换容器或者图片")}),!0}},mounted:function(){this.$nextTick(function(){})},watch:{page:function(){this.desinPhoto=i.a.photoList().getter()[this.page],this.showButton=!1},desinPhoto:function(){}}}}).call(e,a(15))}});