webpackJsonp([21,43],{165:function(t,e,a){a(404);var o=a(30)(a(456),a(351),"data-v-c98a3038",null);t.exports=o.exports},246:function(t,e,a){e=t.exports=a(118)(),e.push([t.i,"#testform[data-v-c98a3038]{display:none}.body[data-v-c98a3038]{position:absolute;width:100%;bottom:1px;overflow-y:scroll;overflow-x:hidden;-webkit-overflow-scrolling:touch}.body .top[data-v-c98a3038]{background:#f87571;height:1.8133rem;width:100%}.example[data-v-c98a3038]{position:absolute;top:.267rem;background:#fff;width:9.12rem;height:3.63rem;border-radius:.3rem;left:.44rem;box-shadow:0 0 15px #f87571}.example .title[data-v-c98a3038]{height:.8533rem;line-height:.8533rem;padding-left:.4rem}.example .e-content[data-v-c98a3038]{display:-ms-flexbox;display:flex;display:-webkit-flex}.example .e-content img[data-v-c98a3038]{width:1.667rem;height:1.667rem;margin-left:1.2rem;margin-right:.9067rem}#uploaderButton[data-v-c98a3038]{display:block;margin-top:2.9467rem;width:100%;text-align:center}#uploaderButton img[data-v-c98a3038]{width:1.733rem;height:1.733rem}.content[data-v-c98a3038]{position:relative}.content .input[data-v-c98a3038]{text-align:center;margin-top:.267rem}.content .input>div[data-v-c98a3038]{width:9.16rem;height:1.2rem;line-height:1.2rem;border-bottom:1px solid #a2a2a2;margin:.3rem auto 0}.content .input input[data-v-c98a3038]{color:#8c8c8c;width:100%;padding-left:.267rem;background:transparent;border-right:none;border-radius:none}.content .headerImg[data-v-c98a3038]{position:absolute;width:1.733rem;height:1.733rem;border-radius:50%;top:0;left:4.1335rem}.content .headerImg img[data-v-c98a3038]{width:100%;height:100%;border-radius:50%}.button[data-v-c98a3038]{width:100%;height:1.2rem;line-height:1.2rem;background:#fff;color:#e33e45;text-align:center;margin:1.57rem auto 0;border-top:1px solid #a2a2a2;position:absolute;bottom:0}.button>a[data-v-c98a3038]{display:block;width:100%;height:100%}.u-layer[data-v-c98a3038]{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;z-index:1001;background:rgba(0,0,0,.5);overflow:hidden}.u-upload[data-v-c98a3038]{position:absolute;width:80%;left:10%;top:45%;padding:.6rem;background:#fff;z-index:1002;border-radius:.1rem;box-sizing:border-box;text-align:center}",""])},265:function(t,e,a){t.exports=a.p+"static/img/icon-header-uploader.5c01d96.png"},267:function(t,e,a){t.exports=a.p+"static/img/icon-mail-head.3223195.png"},351:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mail-list"},[a("section",{staticClass:"body",style:{height:t.maxHeight+"px"}},[a("div",{staticClass:"top"}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"content"},[t._m(1),t._v(" "),""!=t.formData.headImgUrl?[a("div",{staticClass:"headerImg"},[a("img",{attrs:{src:t.formData.headImgUrl+"?imageView2/1/w/500/h/500/q/100",alt:""}})])]:t._e(),t._v(" "),a("div",{staticClass:"input"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.cname,expression:"formData.cname"}],attrs:{type:"text",placeholder:"请输入姓名",maxlength:"10"},domProps:{value:t.formData.cname},on:{input:function(e){e.target.composing||(t.formData.cname=e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.ctelephone,expression:"formData.ctelephone"}],attrs:{type:"text",placeholder:"请输入(如电话)",maxlength:"11"},domProps:{value:t.formData.ctelephone},on:{input:function(e){e.target.composing||(t.formData.ctelephone=e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.cemail,expression:"formData.cemail"}],attrs:{type:"text",placeholder:"请输入(如邮箱)",maxlength:"30"},domProps:{value:t.formData.cemail},on:{input:function(e){e.target.composing||(t.formData.cemail=e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.cinterest,expression:"formData.cinterest"}],attrs:{type:"text",placeholder:"请输入(如爱好)",maxlength:"30"},domProps:{value:t.formData.cinterest},on:{input:function(e){e.target.composing||(t.formData.cinterest=e.target.value)}}})])])],2)]),t._v(" "),a("section",{staticClass:"button"},[a("a",{attrs:{href:"javascript:;"},on:{click:t.complete}},[t._v("完成下一步")])]),t._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:t.isUploading,expression:"isUploading"}],staticClass:"u-upload"},[t._v("\n    "+t._s(t.progressMessage)+"\n  ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isUploading,expression:"isUploading"}],staticClass:"u-layer"}),t._v(" "),a("form",{attrs:{id:"testform",method:"post",enctype:"multipart/form-data"}},[a("input",{attrs:{name:"key",id:"key",type:"hidden"},domProps:{value:t.key}}),t._v(" "),a("input",{attrs:{name:"token",type:"hidden"},domProps:{value:t.token}}),t._v(" "),a("input",{attrs:{id:"userfile",name:"file",type:"file",accept:"image/*"},on:{change:t.upload}}),t._v(" "),a("input",{attrs:{name:"accept",type:"hidden"}})])])},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"example"},[o("p",{staticClass:"title"},[t._v("示例:")]),t._v(" "),o("div",{staticClass:"e-content"},[o("img",{attrs:{src:a(267),alt:""}}),t._v(" "),o("div",{staticClass:"information"},[o("p",[t._v("姓名:嘟嘟女")]),t._v(" "),o("p",[t._v("电话:188****5544")]),t._v(" "),o("p",[t._v("邮箱:100**@qq.com")]),t._v(" "),o("p",[t._v("爱好:骑马、弹琴")])])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{attrs:{id:"uploaderButton",for:"userfile"}},[o("img",{attrs:{src:a(265),alt:""}})])}]}},404:function(t,e,a){var o=a(246);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(119)("c3248542",o,!0)},456:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(57),i=a(63),r=a.n(i),n=a(31);a.n(n);e.default={name:"mailList",data:function(){return{maxHeight:window.innerHeight,token:"",key:"",isUploading:!1,progressMessage:"",thumbnail:null,progress:0,appId:this.$router.currentRoute.query.appid,formData:{ticket:this.config.ticket,temporaryId:this.$router.currentRoute.query.temporaryId,cname:"",ctelephone:"",cemail:"",cinterest:"",headImgUrl:""}}},methods:{complete:function(t){if(t.preventDefault(),""==this.formData.headImgUrl)return void a.i(n.Toast)("请上传头像");if(""==this.formData.cname)return void a.i(n.Toast)("请输入姓名");if(""!=this.formData.ctelephone&&!/^1[3|4|5|7|8]\d{9}$/.test(this.formData.ctelephone))return void a.i(n.Toast)("请输入正确的手机号码");var e=this;o.a.saveMail(this.formData,function(t){t.success&&e.$router.push("/team/order?appid="+e.appId+"&temporaryId="+e.formData.temporaryId)})},upload:function(t){var e=new FormData(document.getElementById("testform")),a=this;this.isUploading=!0,this.$http.post("http://up.qiniu.com",e,{progress:function(t){var e=parseFloat(t.loaded/t.total*100).toFixed(0)+"%";a.progressMessage="正在上传图片,已完成"+e}}).then(function(t){var e=t.body;a.isUploading=!1,e.hash&&e.key&&(a.formData.headImgUrl=a.utils.getConstant().DOMAIN+e.key)},function(t){console.log(t)})}},mounted:function(){var t=this;o.a.getQiniuToken(function(e){if(e.success){var o=Math.floor(9e3*Math.random())+1e3,i=Date.parse(new Date)/1e3+o;t.token=e.data,t.key=r()(i)}else a.i(n.Toast)("当前排队人数过多,请稍后再试")})}}}});